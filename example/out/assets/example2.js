import{f as G,h as z,i as W,D as q,E as J,t as K,j as C,k as Q,C as c,l as Z,m as tt,c as et,s as nt,g as rt,n as at,d as P,o as it}from"./index.js";function ot(t,e,n,r=0,a=1){const i=G(e,n,r,a);return o=>t(i(o))}var st=typeof global=="object"&&global&&global.Object===Object&&global;const lt=st;var dt=typeof self=="object"&&self&&self.Object===Object&&self,ct=lt||dt||Function("return this")();const ut=ct;var ft=ut.Symbol;const j=ft;var N=Object.prototype,gt=N.hasOwnProperty,ht=N.toString,f=j?j.toStringTag:void 0;function bt(t){var e=gt.call(t,f),n=t[f];try{t[f]=void 0;var r=!0}catch{}var a=ht.call(t);return r&&(e?t[f]=n:delete t[f]),a}var pt=Object.prototype,mt=pt.toString;function yt(t){return mt.call(t)}var wt="[object Null]",jt="[object Undefined]",$=j?j.toStringTag:void 0;function Ot(t){return t==null?t===void 0?jt:wt:$&&$ in Object(t)?bt(t):yt(t)}function St(t){return t!=null&&typeof t=="object"}var vt=Array.isArray;const xt=vt;var Tt="[object String]";function Ct(t){return typeof t=="string"||!xt(t)&&St(t)&&Ot(t)==Tt}function Et(t){return Ct(t)?e=>{var n;return(n=e==null?void 0:e.raw)===null||n===void 0?void 0:n[t]}:t}function Pt(t,e){return n=>{const r=t(n);return r==null?null:e(r)}}function kt(t,e){const{name:n,min:r,max:a,axis:i,scale:o,datasetIndex:l=0,value:b="r",min2:S=0,max2:v=1}=e,s=ot(z(n),r,a,S,v);if(i!=null){const T=W(s,r,a);t.config.options.scales[i]=Object.assign(T,o)}const p=Et(b),x=Pt(p,s);t.data.datasets[l].backgroundColor=x}function L(t,e){const{data:n}=e;n!=null&&n.forEach(r=>kt(t,r))}const g={id:"colorful",defaults:{data:[]},beforeUpdated:!1,beforeInit(t,e,n){L(t,n),this.beforeUpdated=!0},beforeUpdate(t,e,n){if(this.beforeUpdated===!1)return this.beforeUpdated=!0,L(t,n),t.update(),!1},afterUpdate(){this.beforeUpdated=!1}};/*!
 * chartjs-chart-matrix v1.1.1
 * https://chartjs-chart-matrix.pages.dev/
 * (c) 2021 Jukka Kurkela
 * Released under the MIT license
 */var Bt="1.1.1";class h extends q{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const n=this,r=n._cachedMeta;n.updateElements(r.data,0,r.data.length,e)}updateElements(e,n,r,a){const i=this,o=a==="reset",{xScale:l,yScale:b}=i._cachedMeta,S=i.resolveDataElementOptions(n,a),v=i.getSharedOptions(a,e[n],S);for(let s=n;s<n+r;s++){const p=!o&&i.getParsed(s),x=o?l.getBasePixel():l.getPixelForValue(p.x),T=o?b.getBasePixel():b.getPixelForValue(p.y),B=i.resolveDataElementOptions(s,a),{width:R,height:M,anchorX:X,anchorY:Y}=B,F={x:Rt(X,x,R),y:Mt(Y,T,M),width:R,height:M,options:B};i.updateElement(e[s],s,F,a)}i.updateSharedOptions(v,a)}draw(){const e=this,n=e.getMeta().data||[];let r,a;for(r=0,a=n.length;r<a;++r)n[r].draw(e._ctx)}}function Rt(t,e,n){return t==="left"||t==="start"?e:t==="right"||t==="end"?e-n:e-n/2}function Mt(t,e,n){return t==="top"||t==="start"?e:t==="bottom"||t==="end"?e-n:e-n/2}h.id="matrix";h.version=Bt;h.defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}},anchorX:"center",anchorY:"center"};h.overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}};function U(t,e){const{x:n,y:r,width:a,height:i}=t.getProps(["x","y","width","height"],e);return{left:n,top:r,right:n+a,bottom:r+i}}function m(t,e,n){return Math.max(Math.min(t,n),e)}function $t(t,e,n){const r=t.options.borderWidth;let a,i,o,l;return Q(r)?(a=+r.top||0,i=+r.right||0,o=+r.bottom||0,l=+r.left||0):a=i=o=l=+r||0,{t:m(a,0,n),r:m(i,0,e),b:m(o,0,n),l:m(l,0,e)}}function Lt(t){const e=U(t),n=e.right-e.left,r=e.bottom-e.top,a=$t(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b}}}function E(t,e,n,r){const a=e===null,i=n===null,o=!t||a&&i?!1:U(t,r);return o&&(a||e>=o.left&&e<=o.right)&&(i||n>=o.top&&n<=o.bottom)}class k extends J{constructor(e){super(),this.options=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const n=this.options,{inner:r,outer:a}=Lt(this),i=K(n.borderRadius);e.save(),a.w!==r.w||a.h!==r.h?(e.beginPath(),C(e,{x:a.x,y:a.y,w:a.w,h:a.h,radius:i}),C(e,{x:r.x,y:r.y,w:r.w,h:r.h,radius:i}),e.fillStyle=n.backgroundColor,e.fill(),e.fillStyle=n.borderColor,e.fill("evenodd")):(e.beginPath(),C(e,{x:r.x,y:r.y,w:r.w,h:r.h,radius:i}),e.fillStyle=n.backgroundColor,e.fill()),e.restore()}inRange(e,n,r){return E(this,e,n,r)}inXRange(e,n){return E(this,e,null,n)}inYRange(e,n){return E(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,width:a,height:i}=this.getProps(["x","y","width","height"],e);return{x:n+a/2,y:r+i/2}}tooltipPosition(){return this.getCenterPoint()}getRange(e){return e==="x"?this.width/2:this.height/2}}k.id="matrix";k.defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:void 0,anchorY:void 0,width:20,height:20};document.location.search==="?e2e"&&(c.defaults.animation=!1,c.defaults.animations.colors=!1);c.register(h,k);c.register(Z);c.register(tt,g);const Nt=et();nt(Nt);const{namedLinear:Ut}=rt();at(Ut);const Dt=it();let u=P("default");function It(t,e,n){const r=[];for(let a=0;a<t;a+=1)for(let i=0;i<e;i+=1){const o=u()*n;r.push({x:a,y:i,r:o})}return r}function At(t,e,n,r){const a=[];for(let i=0;i<t;i+=1)a.push({x:u()*e,y:u()*n,r:u()*r});return a}const y=30,w=20,O=20;Object.assign(window,{Chart:c});function Vt(t,e){return{width:n=>{var r,a;return(((a=(r=n==null?void 0:n.chart)==null?void 0:r.chartArea)==null?void 0:a.width)||0)/t},height:n=>{var r,a;return(((a=(r=n==null?void 0:n.chart)==null?void 0:r.chartArea)==null?void 0:a.height)||0)/e}}}function _t(){u=P("default");const t=It(y,w,O);return{type:"matrix",data:{datasets:[{data:t,...Vt(y,w)}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{x:{min:-.5,max:y-.5,grid:{display:!1},ticks:{callback:e=>Number.isInteger(e)?e:void 0},offset:!1},y:{min:-.5,max:w-.5,grid:{},ticks:{callback:e=>Number.isInteger(e)?e:void 0},offset:!1}},plugins:{title:{display:!1},legend:{display:!1},[g.id]:{data:[{min:0,max:O,axis:"r"}]},tooltip:{callbacks:{title(e){return[e[0].raw.x,e[0].raw.y].join("/")},label({raw:e}){return e.r}}}}}}}function D(){u=P("default");const t=At(50,y,w,O);return{type:"bubble",data:{datasets:[{data:t}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{title:{display:!1},legend:{display:!1},[g.id]:{data:[{min:0,max:O,axis:"r"}]}}}}}const I=document.getElementById("chart");let d=new c(I,D());Object.assign(window,{chart:d});const A=document.getElementById("schemes"),Ht=document.getElementById("schemeName");A.innerHTML=Dt.map(t=>`<button class="btn btn-chartjs" id="${t}">${t}</button>`).join(" ");A.addEventListener("click",t=>{if(t.target.tagName!=="BUTTON")return;const e=t.target.id;Ht.innerHTML=e,d.options.plugins[g.id].data[0].name=e,d.update()});const V={ToggleScale:t=>{var e;((e=t.scale)==null?void 0:e.display)!==!1?Object.assign(t,{scale:{display:!1}}):t.scale.display=!0},DefaultColor:t=>{t.min2=0,t.max2=1},ReverceColor:t=>{t.min2=1,t.max2=0},HalfColor:t=>{t.min2=.25,t.max2=.75}},_=document.getElementById("handlers");_.innerHTML=Object.keys(V).map(t=>`<button class="btn btn-chartjs" id="${t}">${t}</button>`).join(" ");_.addEventListener("click",t=>{if(t.target.tagName!=="BUTTON")return;const e=t.target.id;V[e](d.options.plugins[g.id].data[0]),d.update()});const H=document.getElementById("types"),Xt=["bubble","matrix"];H.innerHTML=Xt.map(t=>`<button class="btn btn-chartjs" id="${t}">${t}</button>`).join(" ");H.addEventListener("click",t=>{if(t.target.tagName!=="BUTTON")return;const e=t.target.id;d.destroy(),d=new c(I,e==="bubble"?D():_t()),Object.assign(window,{chart:d})});
