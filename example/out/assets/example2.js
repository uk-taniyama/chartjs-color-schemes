import{D as Y,E as U,t as V,h as y,i as _,C as l,j as z,k as F,l as h,c as W,s as q,g as G,m as J,d as x,n as K}from"./index.js";/*!
 * chartjs-chart-matrix v1.1.1
 * https://chartjs-chart-matrix.pages.dev/
 * (c) 2021 Jukka Kurkela
 * Released under the MIT license
 */var Q="1.1.1";class f extends Y{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const n=this,i=n._cachedMeta;n.updateElements(i.data,0,i.data.length,t)}updateElements(t,n,i,s){const a=this,r=s==="reset",{xScale:d,yScale:C}=a._cachedMeta,L=a.resolveDataElementOptions(n,s),D=a.getSharedOptions(s,t[n],L);for(let c=n;c<n+i;c++){const O=!r&&a.getParsed(c),I=r?d.getBasePixel():d.getPixelForValue(O.x),$=r?C.getBasePixel():C.getPixelForValue(O.y),v=a.resolveDataElementOptions(c,s),{width:j,height:k,anchorX:A,anchorY:H}=v,X={x:Z(A,I,j),y:tt(H,$,k),width:j,height:k,options:v};a.updateElement(t[c],c,X,s)}a.updateSharedOptions(D,s)}draw(){const t=this,n=t.getMeta().data||[];let i,s;for(i=0,s=n.length;i<s;++i)n[i].draw(t._ctx)}}function Z(e,t,n){return e==="left"||e==="start"?t:e==="right"||e==="end"?t-n:t-n/2}function tt(e,t,n){return e==="top"||e==="start"?t:e==="bottom"||e==="end"?t-n:t-n/2}f.id="matrix";f.version=Q;f.defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}},anchorX:"center",anchorY:"center"};f.overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}};function B(e,t){const{x:n,y:i,width:s,height:a}=e.getProps(["x","y","width","height"],t);return{left:n,top:i,right:n+s,bottom:i+a}}function g(e,t,n){return Math.max(Math.min(e,n),t)}function et(e,t,n){const i=e.options.borderWidth;let s,a,r,d;return _(i)?(s=+i.top||0,a=+i.right||0,r=+i.bottom||0,d=+i.left||0):s=a=r=d=+i||0,{t:g(s,0,n),r:g(a,0,t),b:g(r,0,n),l:g(d,0,t)}}function nt(e){const t=B(e),n=t.right-t.left,i=t.bottom-t.top,s=et(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b}}}function w(e,t,n,i){const s=t===null,a=n===null,r=!e||s&&a?!1:B(e,i);return r&&(s||t>=r.left&&t<=r.right)&&(a||n>=r.top&&n<=r.bottom)}class E extends U{constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const n=this.options,{inner:i,outer:s}=nt(this),a=V(n.borderRadius);t.save(),s.w!==i.w||s.h!==i.h?(t.beginPath(),y(t,{x:s.x,y:s.y,w:s.w,h:s.h,radius:a}),y(t,{x:i.x,y:i.y,w:i.w,h:i.h,radius:a}),t.fillStyle=n.backgroundColor,t.fill(),t.fillStyle=n.borderColor,t.fill("evenodd")):(t.beginPath(),y(t,{x:i.x,y:i.y,w:i.w,h:i.h,radius:a}),t.fillStyle=n.backgroundColor,t.fill()),t.restore()}inRange(t,n,i){return w(this,t,n,i)}inXRange(t,n){return w(this,t,null,n)}inYRange(t,n){return w(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,width:s,height:a}=this.getProps(["x","y","width","height"],t);return{x:n+s/2,y:i+a/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return t==="x"?this.width/2:this.height/2}}E.id="matrix";E.defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:void 0,anchorY:void 0,width:20,height:20};document.location.search==="?e2e"&&(l.defaults.animation=!1,l.defaults.animations.colors=!1);l.register(f,E);l.register(z);l.register(F,h);const it=W();q(it);const{namedLinear:st}=G();J(st);const at=K();let u=x("default");function rt(e,t,n){const i=[];for(let s=0;s<e;s+=1)for(let a=0;a<t;a+=1){const r=u()*n;i.push({x:s,y:a,r})}return i}function ot(e,t,n,i){const s=[];for(let a=0;a<e;a+=1)s.push({x:u()*t,y:u()*n,r:u()*i});return s}const m=30,p=20,b=20;Object.assign(window,{Chart:l});function lt(e,t){return{width:n=>{var i,s;return(((s=(i=n==null?void 0:n.chart)==null?void 0:i.chartArea)==null?void 0:s.width)||0)/e},height:n=>{var i,s;return(((s=(i=n==null?void 0:n.chart)==null?void 0:i.chartArea)==null?void 0:s.height)||0)/t}}}function dt(){u=x("default");const e=rt(m,p,b);return{type:"matrix",data:{datasets:[{data:e,...lt(m,p)}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{x:{min:-.5,max:m-.5,grid:{display:!1},ticks:{callback:t=>Number.isInteger(t)?t:void 0},offset:!1},y:{min:-.5,max:p-.5,grid:{},ticks:{callback:t=>Number.isInteger(t)?t:void 0},offset:!1}},plugins:{title:{display:!1},legend:{display:!1},[h.id]:{data:[{min:0,max:b,axis:"r"}]},tooltip:{callbacks:{title(t){return[t[0].raw.x,t[0].raw.y].join("/")},label({raw:t}){return t.r}}}}}}}function P(){u=x("default");const e=ot(50,m,p,b);return{type:"bubble",data:{datasets:[{data:e}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{title:{display:!1},legend:{display:!1},[h.id]:{data:[{min:0,max:b,axis:"r"}]}}}}}const M=document.getElementById("chart");let o=new l(M,P());Object.assign(window,{chart:o});const R=document.getElementById("schemes"),ct=document.getElementById("schemeName");R.innerHTML=at.map(e=>`<button class="btn btn-chartjs" id="${e}">${e}</button>`).join(" ");R.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;const t=e.target.id;ct.innerHTML=t,o.options.plugins[h.id].data[0].name=t,o.update()});const T={ToggleScale:e=>{var t;((t=e.scale)==null?void 0:t.display)!==!1?Object.assign(e,{scale:{display:!1}}):e.scale.display=!0},DefaultColor:e=>{e.min2=0,e.max2=1},ReverceColor:e=>{e.min2=1,e.max2=0},HalfColor:e=>{e.min2=.25,e.max2=.75}},N=document.getElementById("handlers");N.innerHTML=Object.keys(T).map(e=>`<button class="btn btn-chartjs" id="${e}">${e}</button>`).join(" ");N.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;const t=e.target.id;T[t](o.options.plugins[h.id].data[0]),o.update()});const S=document.getElementById("types"),ut=["bubble","matrix"];S.innerHTML=ut.map(e=>`<button class="btn btn-chartjs" id="${e}">${e}</button>`).join(" ");S.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;const t=e.target.id;o.destroy(),o=new l(M,t==="bubble"?P():dt()),Object.assign(window,{chart:o})});
