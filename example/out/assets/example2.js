import{D as Y,E as U,t as V,j as y,k as _,C as l,a as z,b as h,g as F,d as W,s as x,l as q,i as G}from"./index.js";/*!
 * chartjs-chart-matrix v1.1.1
 * https://chartjs-chart-matrix.pages.dev/
 * (c) 2021 Jukka Kurkela
 * Released under the MIT license
 */var J="1.1.1";class f extends Y{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const n=this,a=n._cachedMeta;n.updateElements(a.data,0,a.data.length,t)}updateElements(t,n,a,i){const s=this,r=i==="reset",{xScale:d,yScale:v}=s._cachedMeta,S=s.resolveDataElementOptions(n,i),I=s.getSharedOptions(i,t[n],S);for(let u=n;u<n+a;u++){const C=!r&&s.getParsed(u),D=r?d.getBasePixel():d.getPixelForValue(C.x),$=r?v.getBasePixel():v.getPixelForValue(C.y),O=s.resolveDataElementOptions(u,i),{width:j,height:k,anchorX:A,anchorY:H}=O,X={x:K(A,D,j),y:Q(H,$,k),width:j,height:k,options:O};s.updateElement(t[u],u,X,i)}s.updateSharedOptions(I,i)}draw(){const t=this,n=t.getMeta().data||[];let a,i;for(a=0,i=n.length;a<i;++a)n[a].draw(t._ctx)}}function K(e,t,n){return e==="left"||e==="start"?t:e==="right"||e==="end"?t-n:t-n/2}function Q(e,t,n){return e==="top"||e==="start"?t:e==="bottom"||e==="end"?t-n:t-n/2}f.id="matrix";f.version=J;f.defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}},anchorX:"center",anchorY:"center"};f.overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}};function B(e,t){const{x:n,y:a,width:i,height:s}=e.getProps(["x","y","width","height"],t);return{left:n,top:a,right:n+i,bottom:a+s}}function g(e,t,n){return Math.max(Math.min(e,n),t)}function Z(e,t,n){const a=e.options.borderWidth;let i,s,r,d;return _(a)?(i=+a.top||0,s=+a.right||0,r=+a.bottom||0,d=+a.left||0):i=s=r=d=+a||0,{t:g(i,0,n),r:g(s,0,t),b:g(r,0,n),l:g(d,0,t)}}function tt(e){const t=B(e),n=t.right-t.left,a=t.bottom-t.top,i=Z(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:a-i.t-i.b}}}function w(e,t,n,a){const i=t===null,s=n===null,r=!e||i&&s?!1:B(e,a);return r&&(i||t>=r.left&&t<=r.right)&&(s||n>=r.top&&n<=r.bottom)}class E extends U{constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const n=this.options,{inner:a,outer:i}=tt(this),s=V(n.borderRadius);t.save(),i.w!==a.w||i.h!==a.h?(t.beginPath(),y(t,{x:i.x,y:i.y,w:i.w,h:i.h,radius:s}),y(t,{x:a.x,y:a.y,w:a.w,h:a.h,radius:s}),t.fillStyle=n.backgroundColor,t.fill(),t.fillStyle=n.borderColor,t.fill("evenodd")):(t.beginPath(),y(t,{x:a.x,y:a.y,w:a.w,h:a.h,radius:s}),t.fillStyle=n.backgroundColor,t.fill()),t.restore()}inRange(t,n,a){return w(this,t,n,a)}inXRange(t,n){return w(this,t,null,n)}inYRange(t,n){return w(this,null,t,n)}getCenterPoint(t){const{x:n,y:a,width:i,height:s}=this.getProps(["x","y","width","height"],t);return{x:n+i/2,y:a+s/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return t==="x"?this.width/2:this.height/2}}E.id="matrix";E.defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:void 0,anchorY:void 0,width:20,height:20};document.location.search==="?e2e"&&(l.defaults.animation=!1,l.defaults.animations.colors=!1);l.register(f,E);l.register(z,h);const{namedLinear:et}=F();W(et);const nt=q();let c=x("default");function at(e,t,n){const a=[];for(let i=0;i<e;i+=1)for(let s=0;s<t;s+=1){const r=c()*n;a.push({x:i,y:s,r})}return a}function it(e,t,n,a){const i=[];for(let s=0;s<e;s+=1)i.push({x:c()*t,y:c()*n,r:c()*a});return i}const m=30,p=20,b=20;Object.assign(window,{Chart:l});function st(e,t){return{width:n=>{var a,i;return(((i=(a=n==null?void 0:n.chart)==null?void 0:a.chartArea)==null?void 0:i.width)||0)/e},height:n=>{var a,i;return(((i=(a=n==null?void 0:n.chart)==null?void 0:a.chartArea)==null?void 0:i.height)||0)/t}}}function rt(){c=x("default");const e=at(m,p,b);return{type:"matrix",data:{datasets:[{data:e,...st(m,p)}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{x:{min:-.5,max:m-.5,grid:{display:!1},ticks:{callback:t=>Number.isInteger(t)?t:void 0},offset:!1},y:{min:-.5,max:p-.5,grid:{},ticks:{callback:t=>Number.isInteger(t)?t:void 0},offset:!1}},plugins:{title:{display:!1},legend:{display:!1},[h.id]:{colors:"default",converter:G,data:[{min:0,max:b,axis:"r",datasetIndex:0,value:"r"}]},tooltip:{callbacks:{title(t){return[t[0].raw.x,t[0].raw.y].join("/")},label({raw:t}){return t.r}}}}}}}function M(){c=x("default");const e=it(50,m,p,b);return{type:"bubble",data:{datasets:[{data:e}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{title:{display:!1},legend:{display:!1},[h.id]:{data:[{min:0,max:b,axis:"r",datasetIndex:0,value:"r"}]}}}}}const P=document.getElementById("chart");let o=new l(P,M());Object.assign(window,{chart:o});const R=document.getElementById("schemes"),ot=document.getElementById("schemeName");R.innerHTML=nt.map(e=>`<button class="btn btn-chartjs" id="${e}">${e}</button>`).join(" ");R.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;const t=e.target.id;ot.innerHTML=t,o.options.plugins[h.id].data[0].name=t,o.update()});const T={ToggleScale:e=>{var t;((t=e.scale)==null?void 0:t.display)!==!1?Object.assign(e,{scale:{display:!1}}):e.scale.display=!0},DefaultColor:e=>{e.min2=0,e.max2=1},ReverseColor:e=>{e.min2=1,e.max2=0},HalfColor:e=>{e.min2=.25,e.max2=.75}},N=document.getElementById("handlers");N.innerHTML=Object.keys(T).map(e=>`<button class="btn btn-chartjs" id="${e}">${e}</button>`).join(" ");N.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;const t=e.target.id;T[t](o.options.plugins[h.id].data[0]),o.update()});const L=document.getElementById("types"),lt=["bubble","matrix"];L.innerHTML=lt.map(e=>`<button class="btn btn-chartjs" id="${e}">${e}</button>`).join(" ");L.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;const t=e.target.id;o.destroy(),o=new l(P,t==="bubble"?M():rt()),Object.assign(window,{chart:o})});
