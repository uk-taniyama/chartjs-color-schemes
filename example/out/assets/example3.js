import{L as X,J as y,O as V,c as _,aY as x,g as z,a as F,h as W}from"./index.js";import{D as J,E as U,C as u,a as q,b,s as E}from"./index2.js";/*!
 * chartjs-chart-matrix v1.1.1
 * https://chartjs-chart-matrix.pages.dev/
 * (c) 2021 Jukka Kurkela
 * Released under the MIT license
 */var G="1.1.1";class h extends J{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const t=this,s=t._cachedMeta;t.updateElements(s.data,0,s.data.length,e)}updateElements(e,t,s,a){const i=this,r=a==="reset",{xScale:l,yScale:v}=i._cachedMeta,I=i.resolveDataElementOptions(t,a),N=i.getSharedOptions(a,e[t],I);for(let d=t;d<t+s;d++){const B=!r&&i.getParsed(d),D=r?l.getBasePixel():l.getPixelForValue(B.x),A=r?v.getBasePixel():v.getPixelForValue(B.y),O=i.resolveDataElementOptions(d,a),{width:R,height:P,anchorX:$,anchorY:Y}=O,H={x:K($,D,R),y:Q(Y,A,P),width:R,height:P,options:O};i.updateElement(e[d],d,H,a)}i.updateSharedOptions(N,a)}draw(){const e=this,t=e.getMeta().data||[];let s,a;for(s=0,a=t.length;s<a;++s)t[s].draw(e._ctx)}}function K(n,e,t){return n==="left"||n==="start"?e:n==="right"||n==="end"?e-t:e-t/2}function Q(n,e,t){return n==="top"||n==="start"?e:n==="bottom"||n==="end"?e-t:e-t/2}h.id="matrix";h.version=G;h.defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}},anchorX:"center",anchorY:"center"};h.overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}};function j(n,e){const{x:t,y:s,width:a,height:i}=n.getProps(["x","y","width","height"],e);return{left:t,top:s,right:t+a,bottom:s+i}}function f(n,e,t){return Math.max(Math.min(n,t),e)}function Z(n,e,t){const s=n.options.borderWidth;let a,i,r,l;return V(s)?(a=+s.top||0,i=+s.right||0,r=+s.bottom||0,l=+s.left||0):a=i=r=l=+s||0,{t:f(a,0,t),r:f(i,0,e),b:f(r,0,t),l:f(l,0,e)}}function ee(n){const e=j(n),t=e.right-e.left,s=e.bottom-e.top,a=Z(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b}}}function w(n,e,t,s){const a=e===null,i=t===null,r=!n||a&&i?!1:j(n,s);return r&&(a||e>=r.left&&e<=r.right)&&(i||t>=r.top&&t<=r.bottom)}class C extends U{constructor(e){super(),this.options=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const t=this.options,{inner:s,outer:a}=ee(this),i=X(t.borderRadius);e.save(),a.w!==s.w||a.h!==s.h?(e.beginPath(),y(e,{x:a.x,y:a.y,w:a.w,h:a.h,radius:i}),y(e,{x:s.x,y:s.y,w:s.w,h:s.h,radius:i}),e.fillStyle=t.backgroundColor,e.fill(),e.fillStyle=t.borderColor,e.fill("evenodd")):(e.beginPath(),y(e,{x:s.x,y:s.y,w:s.w,h:s.h,radius:i}),e.fillStyle=t.backgroundColor,e.fill()),e.restore()}inRange(e,t,s){return w(this,e,t,s)}inXRange(e,t){return w(this,e,null,t)}inYRange(e,t){return w(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,width:a,height:i}=this.getProps(["x","y","width","height"],e);return{x:t+a/2,y:s+i/2}}tooltipPosition(){return this.getCenterPoint()}getRange(e){return e==="x"?this.width/2:this.height/2}}C.id="matrix";C.defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:void 0,anchorY:void 0,width:20,height:20};document.location.search==="?e2e"&&(u.defaults.animation=!1,u.defaults.animations.colors=!1);u.register(h,C);u.register(q,b);const M=_("#ff0000");x.add("rotate",M);const{namedLinear:te}=z();x.addAll(te);let c=E("default");function ne(n,e,t){const s=[];for(let a=0;a<n;a+=1)for(let i=0;i<e;i+=1){const r=c()*t;s.push({x:a,y:i,r})}return s}function se(n,e,t,s){const a=[];for(let i=0;i<n;i+=1)a.push({x:c()*e,y:c()*t,r:c()*s});return a}const m=30,g=20,p=20;Object.assign(window,{Chart:u});function ae(n,e){return{width:t=>{var s,a;return(((a=(s=t==null?void 0:t.chart)==null?void 0:s.chartArea)==null?void 0:a.width)||0)/n},height:t=>{var s,a;return(((a=(s=t==null?void 0:t.chart)==null?void 0:s.chartArea)==null?void 0:a.height)||0)/e}}}function ie(n){c=E("default");const e=ne(m,g,p);return{type:"matrix",data:{datasets:[{data:e,...ae(m,g)}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{x:{min:-.5,max:m-.5,grid:{display:!1},ticks:{callback:t=>Number.isInteger(t)?t:void 0},offset:!1},y:{min:-.5,max:g-.5,grid:{display:!1},ticks:{callback:t=>Number.isInteger(t)?t:void 0},offset:!1}},plugins:{title:{display:!1},legend:{display:!1},[b.id]:{colors:F(M,12,!1),converter:W,data:[{name:n,min:0,max:p,axis:"r",datasetIndex:0,value:"r"}]},tooltip:{callbacks:{title(t){return[t[0].raw.x,t[0].raw.y].join("/")},label({raw:t}){return t.r}}}}}}}function re(n){c=E("default");const e=se(50,m,g,p);return{type:"bubble",data:{datasets:[{data:e}]},options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{title:{display:!1},legend:{display:!1},[b.id]:{data:[{name:n,min:0,max:p,axis:"r",datasetIndex:0,value:"r"}]}}}}}const oe=document.getElementById("chart"),k={ToggleScale:n=>{var e;((e=n.scale)==null?void 0:e.display)!==!1?Object.assign(n,{scale:{display:!1}}):n.scale.display=!0},DefaultColor:n=>{n.min2=0,n.max2=1},ReverseColor:n=>{n.min2=1,n.max2=0},HalfColor:n=>{n.min2=.25,n.max2=.75}};let o=null;const L=document.getElementById("schemeName"),le=document.getElementById("schemes");le.innerHTML=x.names.map(n=>`<button class="btn scheme" id="${n}">${n}</button>`).join(" ");function S(n){Array.from(document.getElementsByClassName("scheme")).forEach(e=>{e.classList.toggle("btn-chartjs",e.id===n)}),L.innerText=n,o!=null&&(o.options.plugins.colorful.data[0].linear=n,o.update())}const de=document.getElementById("types"),ce=["bubble","matrix"];de.innerHTML=ce.map(n=>`<button class="btn type" id="${n}">${n}</button>`).join(" ");function T(n){Array.from(document.getElementsByClassName("type")).forEach(t=>{t.classList.toggle("btn-chartjs",t.id===n)}),o!=null&&o.destroy();const e=L.innerText;o=new u(oe,n==="bubble"?re(e):ie(e)),Object.assign(window,{chart:o})}const ue=document.getElementById("handlers");ue.innerHTML=Object.keys(k).map(n=>`<button class="btn btn-chartjs handler" id="${n}">${n}</button>`).join(" ");function he(n){o!=null&&(k[n](o.options.plugins[b.id].data[0]),o.update())}const fe=document.getElementById("buttons");fe.addEventListener("click",n=>{if(n.target.tagName!=="BUTTON")return;const{id:e,classList:t}=n.target;t.contains("scheme")?S(e):t.contains("handler")?he(e):T(e)});S("default");T("bubble");
